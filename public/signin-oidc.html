<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Please wait...</title>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="lms-operation-host/logo.png" />
  </head>

  <body>
    <noscript> You need to enable JavaScript to run this app. </noscript>

    <h1>Please wait...</h1>
    <!-- <div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="270" src="https://giphy.com/embed/1GDFgzlD7FhN5P5tGx/video" width="480"></iframe></div> -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
<lottie-player src="https://assets6.lottiefiles.com/packages/lf20_fi0ty9ak.json"  background="transparent"  speed="1"  style="width: 300px; height: 300px;"  loop  autoplay></lottie-player>

    <script src="oidc-client.min.js"></script>
    <script>
      console.log('helllooo')
      new Oidc.UserManager({ response_mode: 'query' })
        .signinRedirectCallback()
        .then(function (res) {
          console.log({res})
          let isLogin = localStorage.getItem("isLogin")

          if(!(isLogin && isLogin== true)){
            localStorage.setItem("isLogin", true);
            localStorage.setItem("access_token", res.access_token);

           let currentLocation =  localStorage.getItem("currentLocation") ?  localStorage.getItem("currentLocation") : "/lms-operation-host/home"
           
          
            setTimeout(() =>window.location = currentLocation, 3000);
          }

         
         
        })
        .catch(function (e) {
          console.error(e)
        })
    </script>
  </body>
</html>


<!-- mgr.signinRedirectCallback().then(response => {
  console.log({ response });
  if (response) {
    localStorage.setItem("isLogin", true);
    localStorage.setItem("access_token", response.access_token);

    const loginState = localStorage.getItem("isLogin");
    const token = localStorage.getItem("access_token");

    dispatch(login({ isLogin: true, accessToken: token }));

    setTimeout(() => props.history.push("/lms-operation-host/home"), 3000);
  }
}); -->